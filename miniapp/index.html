<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MiniApp BTC</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>BTC Signals</h1>
<div id="alert">Waiting for signals... üöÄ</div>

<script src="app.js"></script>
<script>
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ JS –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
console.log("MiniApp loaded");
alert("MiniApp JS is running!");

// –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ fetch
async function testFetch() {
    try {
        const resp = await fetch("/data?t=" + Date.now()); // –∞–Ω—Ç–∏-–∫–µ—à
        const data = await resp.json();
        alert("Fetch worked! BTC inflow: " + data.btc_inflow);
        document.getElementById("alert").innerText =
            `üì• BTC inflow last 60 min: ${data.btc_inflow} BTC`;
    } catch (e) {
        alert("Fetch failed!"); 
        document.getElementById("alert").innerText = "‚ö†Ô∏è API error";
    }
}

testFetch();
</script>
</body>
</html>